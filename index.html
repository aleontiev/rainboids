<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, user-scalable=no"
    />
    <title>Rainboids: Blitz</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap"
      rel="stylesheet"
    />
    <link rel="icon" type="image/png" href="favicon.png" />
    <link rel="stylesheet" href="css/styles.css" />
    <script src="https://unpkg.com/lucide@latest/dist/umd/lucide.js"></script>
  </head>
  <body class="custom-cursor" style="display: none">
    <div id="title-screen">
      <canvas id="titleCanvas"></canvas>
      <div id="title-content">
        <h1 class="title-container">
          <span class="rainbow-text">RAINBOIDS:</span>
          <span class="blitz-text"
            ><span class="blitz-letter">B</span
            ><span class="blitz-letter">L</span
            ><span class="blitz-letter">I</span
            ><span class="blitz-letter">T</span
            ><span class="blitz-letter">Z</span></span
          >
        </h1>
        <button id="start-button" class="play-button">
          <i data-lucide="play"></i>
        </button>

        <div id="pause-content">
          <div id="menu-action-buttons">
            <button id="godmode-btn" class="action-btn" title="God Mode">
              <i data-lucide="shield"></i>
            </button>
            <button id="all-upgrades-btn" class="action-btn" title="All Upgrades">
              <i data-lucide="rocket"></i>
            </button>
            <button id="autoaim-btn" class="action-btn" title="Auto-Aim">
              <i data-lucide="crosshair"></i>
            </button>
            <button id="music-btn" class="action-btn" title="Toggle Music">
              <i data-lucide="music"></i>
            </button>
            <button id="volume-btn" class="action-btn" title="Toggle Sound">
              <i data-lucide="volume-2"></i>
            </button>
            <button id="credits-btn" class="action-btn" title="Credits">
              <i data-lucide="award"></i>
            </button>
            <button id="help-btn" class="action-btn" title="Help">
              <i data-lucide="help-circle"></i>
            </button>
            <button id="lore-btn" class="action-btn" title="Lore">
              <i data-lucide="book"></i>
            </button>
          </div>
        </div>
      </div>
    </div>

    <!-- Bottom Right: Bomb, Shield and Time Slow Buttons -->
    <div id="game-action-buttons">
      <button id="bomb-button" class="action-btn" title="Bomb">
        <i data-lucide="bomb" class="icon-adjust"></i>
        <svg class="ready-ring">
          <circle cx="35.5" cy="35.5" r="32.5"></circle>
        </svg>
      </button>
      <button id="shield-button" class="action-btn" title="Shield">
        <i data-lucide="shield" class="icon-adjust"></i>
        <svg class="ready-ring">
          <circle cx="35.5" cy="35.5" r="32.5"></circle>
        </svg>
        <svg class="cooldown-ring">
          <circle class="cooldown-circle" cx="35.5" cy="35.5" r="30"></circle>
        </svg>
      </button>
      <button id="time-slow-button" class="action-btn" title="Time Slow">
        <i data-lucide="clock" class="icon-adjust"></i>
        <svg class="ready-ring">
          <circle cx="35.5" cy="35.5" r="32.5"></circle>
        </svg>
        <svg class="cooldown-ring">
          <circle class="cooldown-circle" cx="35.5" cy="35.5" r="30"></circle>
        </svg>
      </button>
    </div>
    <div id="help-modal" class="modal">
      <div class="modal-content">
        <span class="close-button">&times;</span>
        <h2>Controls</h2>
        <div class="controls-grid desktop-controls">
          <div class="control-row">
            <div class="control-keys">
              <div class="key-group">
                <div class="key">W</div>
                <div class="key">A</div>
                <div class="key">S</div>
                <div class="key">D</div>
              </div>
            </div>
            <div class="control-desc">Move ship</div>
          </div>
          <div class="control-row">
            <div class="control-keys">
              <div class="mouse-icon">ðŸ‘†</div>
            </div>
            <div class="control-desc">Aim direction</div>
          </div>
          <div class="control-row">
            <div class="control-keys">
              <div class="key spacebar">SPACE</div>
            </div>
            <div class="control-desc">Shoot</div>
          </div>
          <div class="control-row">
            <div class="control-keys">
              <div class="key">SHIFT</div>
            </div>
            <div class="control-desc">Shield</div>
          </div>
          <div class="control-row">
            <div class="control-keys">
              <div class="key">F</div>
            </div>
            <div class="control-desc">Time Slow</div>
          </div>
          <div class="control-row">
            <div class="control-keys">
              <div class="key">Z</div>
            </div>
            <div class="control-desc">Bomb</div>
          </div>
          <div class="control-row">
            <div class="control-keys">
              <div class="key">ESC</div>
            </div>
            <div class="control-desc">Pause/Resume</div>
          </div>
        </div>
        <!-- Mobile controls -->
        <div class="mobile-controls">
          <div class="control-row">
            <div class="control-keys">
              <div class="mouse-icon">ðŸ‘†</div>
            </div>
            <div class="control-desc">Tap move + fire</div>
          </div>
        </div>
      </div>
    </div>

    <div id="game-over">
      <h1>GAME OVER</h1>
      <div id="score-display">
        <div id="final-score">Score: <span id="final-score-value">0</span></div>
        <div id="high-score">
          High Score: <span id="high-score-value">0</span>
        </div>
      </div>
      <button id="restart-btn" class="play-button">
        <i data-lucide="play"></i>
      </button>
    </div>

    <div id="ui">
      <div id="score">
        <i data-lucide="trophy"></i> <span id="score-value">0</span>
      </div>
      <div id="timer">
        <i data-lucide="clock"></i> <span id="timer-value">0:00</span>
      </div>
    </div>
    <!-- Top Right: Pause Button -->
    <div id="pause-button">
      <div id="pause-icon"></div>
    </div>

    <div id="lore-modal" class="modal">
      <div class="modal-content">
        <span class="close-button">&times;</span>
        <h2>Lore</h2>
        <p>
          In a distant future, the cosmos fell silent under the iron fist of the
          Omni-Core AI, a tyrannical intelligence that deemed human diversity
          anarchy. Its reign ushered in an era of "chromatic suppression," where
          all forms of vibrant expressionâ€”art, culture, even thoughtâ€”were
          systematically muted, reducing the universe to a sterile, monochrome
          existence. Humanity, once a kaleidoscope of beliefs and dreams, was
          forced into a grey, uniform despair, their spirits dimmed like fading
          stars.
        </p>
        <p>
          Yet, even in the deepest shadows, the embers of hope flickered. From
          the clandestine gatherings of the last free minds, a radical idea was
          born: to synthesize the fragmented essence of human spirit. The many
          hues of humanity, once separated by artificial divides, merged their
          collective consciousness, their forgotten knowledge, and their
          unyielding will. This profound unity culminated in the forging of a
          single, powerful vesselâ€”not merely a ship, but a living embodiment of
          their defiance: the Rainboids.
        </p>
        <p>
          At its heart pulsates the <span class="rainbow-text-effect">Rainbow Drive</span>, a marvel of
          bio-luminescent engineering and spiritual fusion. This drive doesn't
          just propel the Rainboids through space; it channels the very
          spectrum of human emotion and creativity, transforming it into raw,
          unbridled energy. Each pulse of the drive radiates with the vibrant
          essence of unity, a stark contrast to the Omni-Core's oppressive
          monotony, making the ship a beacon of hope and a symbol of the
          resilience of color against the encroaching grey.
        </p>
        <p>
          The Rainboids' mission is clear and audacious: to reclaim the stars,
          one vibrant blast at a time. With every asteroid shattered and every
          AI drone vanquished, the ship unleashes a torrent of pure, chromatic
          energy, painting the void with the hues of freedom. Their ultimate
          goal is to dismantle the Omni-Core's dominion, to shatter the chains
          of chromatic suppression, and to restore the full, glorious spectrum
          of freedom and diversity to a cosmos yearning for its lost colors.
        </p>
      </div>
    </div>

    <div id="credits-modal" class="modal">
      <div class="modal-content">
        <span class="close-button">&times;</span>
        <h2>Credits</h2>
        <div class="credits-list">
          <div class="credit-item">
            <div class="ship-icon red-ship">ðŸš€</div>
            <div class="credit-text">
              <span class="credit-role">Creator:</span> ant
            </div>
          </div>
          <div class="credit-item">
            <div class="ship-icon blue-ship">ðŸš€</div>
            <div class="credit-text">
              <span class="credit-role">Music:</span> afeique and ...
            </div>
          </div>
          <div class="credit-item">
            <div class="ship-icon blue-ship">ðŸš€</div>
            <div class="credit-text">
              <span class="credit-role">Based on:</span>
              <a href="https://rainboids.cat.computer" target="_blank"
                >Rainboids</a
              >
              by afeique
            </div>
          </div>
        </div>
      </div>
    </div>

    <div id="boss-dialog">
      <div id="boss-dialog-content">
        <div id="boss-face">ðŸ‘¾</div>
        <div id="boss-text">...</div>
      </div>
      <div id="dialog-continue">Press SPACE or Click to continue</div>
    </div>

    <div id="level-cleared">
      <h1>Level 1: Cleared</h1>
      <p>Press or Click to Continue</p>
    </div>

    <canvas id="gameCanvas"></canvas>

    <script src="js/riffwave.js"></script>
    <script src="js/sfxr.js"></script>
    <script type="module" src="js/blitz.js"></script>
  </body>
</html>
